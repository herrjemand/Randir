<html>
	<head>
		<title>Hello World!</title>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
		<style type="text/css">
			body{
				margin: 0;
			}
			#svgmap{
				width: 100%;
				height: 100%;
			}
			#mx path{
				fill:red;
			}
		</style>
	</head>
	<body>

		<div id="map">
			<object type="image/svg+xml" data="world.svg" id="svgmap"></object>
		</div>
		<button onclick="select_region('africa')">Africa</button>
		<button onclick="select_region('europe')">Europe</button>
		<button onclick="select_region('asia')">Asia</button>
		<button onclick="select_region('north america')">North America</button>
		<button onclick="select_region('schengen')">Schengen</button>
		<button onclick="select_region('eu')">EU</button>
		<button onclick="select_region('african union')">African Union</button>
		<button onclick="select_region('arab league')">Arab league</button>
		<button onclick="select_region('Middle East')">Middle East</button>


		<button onclick="select_region('clear')">RESET</button>

		<script type="text/javascript" src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
		<script type="text/javascript">
			var json_data 	= '',
				svgdom 		= '';
			$(window).load(function () {
				
				svgdom = $(document.getElementById('svgmap').contentDocument);
				
				$.getJSON( "data.json", function( data ) {
					json_data = data;
					$.each( data, function( key, val ) {
						$.each( val.map_regions, function() {
							colourup(this,"blue");
						});
					});
				});
				console.log(json_data);
			});
			var colourup = function(id,colour) {
					$("[id='" + id + "']", svgdom).attr("fill", colour);
			};
			var select_region = function(region){
						$.each( json_data, function( key, val ) {
							if(region.toLowerCase() != "clear"){
								if(val.geo_regions.indexOf(region.toLowerCase()) > -1){
									$.each( val.map_regions, function() {
										colourup(this,"red");
									});
								}else{
									$.each( val.map_regions, function() {
										colourup(this,"black");
									});
								}
							}else{
								$.each( val.map_regions, function() {
										colourup(this,"blue");
								});
							}
						});
			}
			$( window ).resize(function() {
  				//$( "#svgmap" ).css("width", this.width()).css("height", this.height());
			});
			
	</script>
	</body>
</html>